var _info_kwarc_sally_comm_mathhubdocument_factory=function(){var e={name:"info_kwarc_sally_comm_mathhubdocument",defaultElementNamespaceURI:"http://kwarc.info/sally/comm/mathhubdocument",typeInfos:[{type:"classInfo",localName:"SelectText",propertyInfos:[{type:"element",name:"startrow",elementName:"startrow",typeInfo:"Int"},{type:"element",name:"endrow",elementName:"endrow",typeInfo:"Int"},{type:"element",name:"startcolumn",elementName:"startcolumn",typeInfo:"Int"},{type:"element",name:"endcolumn",elementName:"endcolumn",typeInfo:"Int"}]},{type:"classInfo",localName:"GetDocumentMetaResponse",propertyInfos:[{type:"element",name:"sessionid",elementName:"sessionid",typeInfo:"String"},{type:"element",name:"docPath",elementName:"docPath",typeInfo:"String"}]},{type:"classInfo",localName:"GetCurrentSelection",propertyInfos:[]},{type:"classInfo",localName:"GetText",propertyInfos:[]},{type:"classInfo",localName:"AutocompleteResponse",propertyInfos:[{type:"element",name:"suggestion",collection:!0,elementName:"suggestion",typeInfo:"info_kwarc_sally_comm_mathhubdocument.AutocompleteResponse.Suggestion"}]},{type:"classInfo",localName:"AutocompleteResponse.Suggestion",propertyInfos:[{type:"element",name:"concept",elementName:"concept",typeInfo:"String"},{type:"element",name:"text",elementName:"text",typeInfo:"String"}]},{type:"classInfo",localName:"GetDocumentMeta",propertyInfos:[]},{type:"classInfo",localName:"AutocompleteRequest",propertyInfos:[{type:"element",name:"path",elementName:"path",typeInfo:"String"},{type:"element",name:"text",elementName:"text",typeInfo:"String"},{type:"element",name:"prefix",elementName:"prefix",typeInfo:"String"},{type:"element",name:"col",elementName:"col",typeInfo:"Int"},{type:"element",name:"line",elementName:"line",typeInfo:"Int"}]},{type:"classInfo",localName:"GetCurrentSelectionResponse",propertyInfos:[{type:"element",name:"startrow",elementName:"startrow",typeInfo:"Int"},{type:"element",name:"endrow",elementName:"endrow",typeInfo:"Int"},{type:"element",name:"startcolumn",elementName:"startcolumn",typeInfo:"Int"},{type:"element",name:"endcolumn",elementName:"endcolumn",typeInfo:"Int"}]},{type:"classInfo",localName:"GetTextResponse",propertyInfos:[{type:"element",name:"text",elementName:"text",typeInfo:"String"}]}],elementInfos:[{elementName:"SelectText",typeInfo:"info_kwarc_sally_comm_mathhubdocument.SelectText"},{elementName:"GetDocumentMetaResponse",typeInfo:"info_kwarc_sally_comm_mathhubdocument.GetDocumentMetaResponse"},{elementName:"GetCurrentSelection",typeInfo:"info_kwarc_sally_comm_mathhubdocument.GetCurrentSelection"},{elementName:"GetText",typeInfo:"info_kwarc_sally_comm_mathhubdocument.GetText"},{elementName:"AutocompleteResponse",typeInfo:"info_kwarc_sally_comm_mathhubdocument.AutocompleteResponse"},{elementName:"GetDocumentMeta",typeInfo:"info_kwarc_sally_comm_mathhubdocument.GetDocumentMeta"},{elementName:"AutocompleteRequest",typeInfo:"info_kwarc_sally_comm_mathhubdocument.AutocompleteRequest"},{elementName:"GetCurrentSelectionResponse",typeInfo:"info_kwarc_sally_comm_mathhubdocument.GetCurrentSelectionResponse"},{elementName:"GetTextResponse",typeInfo:"info_kwarc_sally_comm_mathhubdocument.GetTextResponse"}]};return{info_kwarc_sally_comm_mathhubdocument:e}};if(typeof define=="function"&&define.amd)define("info_kwarc_sally_comm_mathhubdocument",[],_info_kwarc_sally_comm_mathhubdocument_factory);else if(typeof module!="undefined"&&module.exports)module.exports.info_kwarc_sally_comm_mathhubdocument=_info_kwarc_sally_comm_mathhubdocument_factory().info_kwarc_sally_comm_mathhubdocument;else var info_kwarc_sally_comm_mathhubdocument=_info_kwarc_sally_comm_mathhubdocument_factory().info_kwarc_sally_comm_mathhubdocument;define("mathhubdocument",["require","sally_client","info_kwarc_sally_comm_mathhubdocument","jsonix"],function(e){var t,n,r,i,s,o;return e("sally_client"),s=e("info_kwarc_sally_comm_mathhubdocument"),t=e("jsonix").Jsonix,r=new t.Context([s.info_kwarc_sally_comm_mathhubdocument]),i=r.createMarshaller(),o=r.createUnmarshaller(),n=function(){function e(e,t,n){this.ace=e,this.docPath=t,this.sessionId=n!=null?n:null}return e.prototype.getName=function(){return"mathhubdocument"},e.prototype.marshal=function(e){return i.marshalString(e)},e.prototype.unmarshal=function(e){return o.unmarshalString(e)},e.prototype.handleMessage=function(e,t){var n,r,i;e.name.localPart==="GetDocumentMeta"&&(n={name:{localPart:"GetDocumentMetaResponse",namespaceURI:"http://kwarc.info/sally/comm/mathhubdocument"},value:{sessionid:this.sessionId,docPath:this.docPath}},t(n));if(e.name.localPart==="GetText")return n={name:{localPart:"GetTextResponse",namespaceURI:"http://kwarc.info/sally/comm/mathhubdocument"},value:{text:this.ace.getSession().getValue()}},t(n);if(e.name.localPart==="GetCurrentSelection")return r=this.ace.getSelectionRange(),n={name:{localPart:"GetCurrentSelectionResponse",namespaceURI:"http://kwarc.info/sally/comm/mathhubdocument"},value:{startrow:r.start.row,startcolumn:r.start.column,endrow:r.end.row,endcolumn:r.end.column}},t(n);if(e.name.localPart==="SelectText")return i=e.value,this.ace.selection.setRange({start:{row:i.startrow,column:i.startcolumn},end:{row:i.endrow,column:i.endcolumn}})},e}()});